{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.thecatapi.com/v1\";\naxios.defaults.headers.common[\"x-api-key\"] = \"live_sFk9zT8l2vQd7Y8HEpVtQUNkiz5NdWfSDo35O2SJIILl76Dl3HE1XRDHR3aF8Vh0\";\n\nexport function fetchBreeds() {\n    return axios.get(\"/breeds\").then((resp) => {\n        return resp.data;\n    });\n};\n\nexport function fetchCatByBreed(breedId) {\n    return axios.get(`/images/search?breed_ids=${breedId}`).then((resp) => {\n        return resp.data[0];\n    });  \n};\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst selectEl = document.querySelector(\".breed-select\");\nconst catInfoEl = document.querySelector(\".cat-info\");\nconst loaderEl = document.querySelector(\".loader\");\nconst myBoxEl = document.querySelector(\".myBox\")\n\nselectEl.addEventListener(\"change\", onSelectChange);\n\nmyBoxEl.setAttribute(\"hidden\", \"hidden\");\n\nfunction onSelectChange(evt) {\n  catInfoEl.innerHTML = '';\n\n  const breedId = evt.currentTarget.value;\n\n  fetchCatByBreed(breedId)\n    .then(createCatMarkup)\n    .catch(error => iziToast.error({ message: \"Oops! Something went wrong! Try reloading the page!\" }))\n    .finally(loaderEl.removeAttribute(\"hidden\", \"hidden\"));\n};\n\nfetchBreeds()\n  .then(data => { selectEl.insertAdjacentHTML(\"afterbegin\", createListCats(data)) })\n  .catch(error => iziToast.error({ message: \"Oops! Something went wrong! Try reloading the page!\" }))\n  .finally(loaderEl.setAttribute(\"hidden\", \"hidden\"));\n\n \n\nfunction createListCats(data) {\n  loaderEl.setAttribute(\"hidden\", \"hidden\")\n  myBoxEl.removeAttribute(\"hidden\", \"hidden\")\n  return data.map(({ id, name }) => `<option value=\"${id}\">${name}</option>`).join(\"\");\n};\n\nfunction createCatMarkup({ url, breeds } = data) {\n  loaderEl.setAttribute(\"hidden\", \"hidden\");\n    \n  const catCard = `\n    <img class=\"image\" src=\"${url}\" alt=\"${breeds[0].name}\" />\n    <div class=\"cat-info-text\">\n      <h2 class=\"cat-name\">${breeds[0].name}</h2>\n      <p class=\"cat-description\">${breeds[0].description}</p>\n      <p><span class=\"temperament\">Temperament:</span> ${breeds[0].temperament}</p>\n    </div>\n  `;\n\n  catInfoEl.innerHTML = catCard;  \n};"],"names":["axios","fetchBreeds","resp","fetchCatByBreed","breedId","selectEl","catInfoEl","loaderEl","myBoxEl","onSelectChange","evt","createCatMarkup","error","iziToast","data","createListCats","id","name","url","breeds","catCard"],"mappings":"6vBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,SAASC,GAAc,CAC1B,OAAOD,EAAM,IAAI,SAAS,EAAE,KAAME,GACvBA,EAAK,IACf,CACL,CAEO,SAASC,EAAgBC,EAAS,CACrC,OAAOJ,EAAM,IAAI,4BAA4BI,GAAS,EAAE,KAAMF,GACnDA,EAAK,KAAK,EACpB,CACL,CCXA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAY,SAAS,cAAc,WAAW,EAC9CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAU,SAAS,cAAc,QAAQ,EAE/CH,EAAS,iBAAiB,SAAUI,CAAc,EAElDD,EAAQ,aAAa,SAAU,QAAQ,EAEvC,SAASC,EAAeC,EAAK,CAC3BJ,EAAU,UAAY,GAEtB,MAAMF,EAAUM,EAAI,cAAc,MAElCP,EAAgBC,CAAO,EACpB,KAAKO,CAAe,EACpB,MAAMC,GAASC,EAAS,MAAM,CAAE,QAAS,qDAAqD,CAAE,CAAC,EACjG,QAAQN,EAAS,gBAAgB,SAAU,QAAQ,CAAC,CACzD,CAEAN,EAAa,EACV,KAAKa,GAAQ,CAAET,EAAS,mBAAmB,aAAcU,EAAeD,CAAI,CAAC,EAAG,EAChF,MAAMF,GAASC,EAAS,MAAM,CAAE,QAAS,qDAAqD,CAAE,CAAC,EACjG,QAAQN,EAAS,aAAa,SAAU,QAAQ,CAAC,EAIpD,SAASQ,EAAeD,EAAM,CAC5B,OAAAP,EAAS,aAAa,SAAU,QAAQ,EACxCC,EAAQ,gBAAgB,SAAU,QAAQ,EACnCM,EAAK,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAC,CAAM,IAAK,kBAAkBD,MAAOC,YAAe,EAAE,KAAK,EAAE,CACrF,CAEA,SAASN,EAAgB,CAAE,IAAAO,EAAK,OAAAC,CAAM,EAAK,KAAM,CAC/CZ,EAAS,aAAa,SAAU,QAAQ,EAExC,MAAMa,EAAU;AAAA,8BACYF,WAAaC,EAAO,GAAG;AAAA;AAAA,6BAExBA,EAAO,GAAG;AAAA,mCACJA,EAAO,GAAG;AAAA,yDACYA,EAAO,GAAG;AAAA;AAAA,IAIjEb,EAAU,UAAYc,CACxB"}